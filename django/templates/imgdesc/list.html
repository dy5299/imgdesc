{% extends 'imgdesc/header.html' %}
{% block title %}IMAGE TO TXT - 리스트{% endblock %}
{% block content %}



<header class="masthead">
    <div class="container h-100">
        <div class="row h-100 align-items-center justify-content-center text-center">
            <div class="col-lg-10 align-self-end">
                <h1 class="text-uppercase text-white font-weight-bold">List</h1>
                <hr class="divider my-4" />
            </div>
            <div class="col-lg-10 align-self-baseline">
                <p class="text-white-75 font-weight-light mb-5">


                <a class="btn btn-primary btn-xl js-scroll-trigger" href="{% url 'imgdesc:board' pk=0 mode='add' %}">Upload</a>

                  <!--navigation-->
                  {% if mydb.has_other_pages %}
                  <div>
                    <ul class="pagination">

                      <li class="page-item {% if not mydb.has_previous %}disabled{% endif %}">
                        <a class="page-link" {% if mydb.has_previous %}href="?page={{ mydb.previous_page_number }}"{% endif %}>&laquo;</a>
                      </li>
                      {% for i in mydb.paginator.page_range %}
                      <li class="page-item {% if mydb.number == i %}active{% endif %}">
                        <a class="page-link" {% if not mydb.number == i %}href="?page={{ i }}"{% endif %}>{{ i }}</a>
                      </li>
                      {% endfor %}
                      <li class="page-item {% if not mydb.has_next %}disabled{% endif %}">
                        <a class="page-link" {% if mydb.has_next %}href="?page={{ mydb.next_page_number }}"{% endif %}>&raquo;</a>
                      </li>
                    </ul>
                  </div>
                  {% endif %}

                  <br/><br/>

                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th scope="col">Num</th>
                        <th scope="col">userid</th>
                        <th scope="col">image</th>
                        <th scope="col">caption</th>
                        <th scope="col">voice</th>
                        <th scope="col">created_date</th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody>
                    {% for lst in mydb %}
                      <tr class="table-light">
                        <th scope="row">{{ lst.img_no }}</th>
                        <td>{{ lst.userid }}</td>
                        <td>
                          {% if lst.photo %}
                            <img src="{{ lst.photo.url }}" width="100px" alt=""></td>
                          {% endif %}
                        </td>
                        <td id="{{ lst.img_no }}_cap_txt">{{ lst.caption_ko }}</td>
                        <td id="{{ lst.img_no }}_voice">

                          <form action="" method="post" id="voice_form">
                            {% csrf_token %}
                            <input type="submit" value="Voice" class="btn btn-primary"></input>
                          </form>

                          <a href="{% url 'imgdesc:tts' pk=lst.pk %}">음성 안내</a>

                        </td>
                        <td>{{ lst.created_date }}</td>
                        <td><a href="{% url 'imgdesc:board' pk=lst.pk mode='del' %}">Del</a></td>
                      </tr>
                    {% endfor %}
                    </tbody>
                  </table>



                </p>
            </div>
        </div>
    </div>
</header>







{% endblock %}